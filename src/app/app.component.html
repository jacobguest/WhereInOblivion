<mat-toolbar class="nav" color="primary">
    <span class="app-title">Oblivion GeoGuesser</span>
  </mat-toolbar>

<div class="page">
    @if (this.gameService.getCurrentView() == 'start') {
        <div class="start-screen">
            <h1>Close shut the jaws of oblivion</h1>
            <button (click)="this.gameService.switchToPanoramaView()">Start Game</button>
        </div>
    }

    @if (this.gameService.getCurrentView() == "panorama") {
        <app-panorama [image]="this.gameService.getCurrentPanorama().imageUrl"></app-panorama>
        <button (click)="this.gameService.toggleView()">Open Map to Guess</button>
    }

    @if (this.gameService.getCurrentView() == "map") {
        <app-map 
            (guessSubmitted)="onGuessSubmitted()"
            [guessHasBeenSubmitted]="guessHasBeenSubmitted"
            [oblivionCoordinate]="this.gameService.getCurrentPanorama().oblivionCoordinate"
        ></app-map>
        <button (click)="this.gameService.toggleView()">Back to World View</button>
    }
        
    @if (guessHasBeenSubmitted && this.gameService.getCurrentView() !== 'start') {
        <button (click)="nextRound()">Next Round</button>
    }
</div>
<router-outlet />